<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mark Attendance</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
</head>
<body>

{% include "_topbar.html" %}


<div class="container">
  <h1>ðŸ—“ Mark Attendance</h1>
  <p class="subtitle">Date: {{ today }}</p>

  <!-- Class Selector -->
  <form method="GET" class="form-card">
    <label><strong>Select Class</strong></label>
    <select name="class" onchange="this.form.submit()" required>
      <option value="">-- Choose Class --</option>
      {% for cls in classes %}
        <option value="{{ cls }}" {% if cls == selected_class %}selected{% endif %}>
          {{ cls }}
        </option>
      {% endfor %}
    </select>
  </form>

  {% if students %}
  <!-- Attendance Form -->
  <form method="POST" class="form-card">
    <table class="attendance-table">
      <tr>
        <th>Roll</th>
        <th>Name</th>
        <th>Status</th>
      </tr>

      {% for student in students %}
      <tr>
        <td>{{ student.roll }}</td>
        <td>{{ student.name }}</td>
        <td>
          <label>
            <input type="radio" name="{{ student.id }}" value="Present" required>
            Present
          </label>
          <label>
            <input type="radio" name="{{ student.id }}" value="Absent">
            Absent
          </label>
        </td>
      </tr>
      {% endfor %}
    </table>

    <button type="submit" class="btn">Save Attendance</button>
  </form>
  {% endif %}
</div>

</body>
</html>
